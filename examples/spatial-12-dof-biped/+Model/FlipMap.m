function R = FlipMap(rbm, q, dq)
 
import casadi.*

R = [1,0,0,0,0,0,0,0,0,0,0,0;
     0,-1,0,0,0,0,0,0,0,0,0,0;
     0,0,1,0,0,0,0,0,0,0,0,0;
     0,0,0,-1,0,0,0,0,0,0,0,0;
     0,0,0,0,1,0,0,0,0,0,0,0;
     0,0,0,0,0,-1,0,0,0,0,0,0;
     0,0,0,0,0,0,0,0,0,-1,0,0;
     0,0,0,0,0,0,0,0,0,0,1,0;
     0,0,0,0,0,0,0,0,0,0,0,1;
     0,0,0,0,0,0,-1,0,0,0,0,0;
     0,0,0,0,0,0,0,1,0,0,0,0;
     0,0,0,0,0,0,0,0,1,0,0,0];
 

% % flipped states before impact
% q_fl = R*q
% dq_fl = R*dq
% 
% q_fl(2) = 
% 
% 
% 
% 
%  
% R_pos = [
%     0,0,0,-1,0,0,0,0,0,0,0,0;
%     0,0,0,0,1,0,0,0,0,0,0,0;
%     0,0,0,0,0,-1,0,0,0,0,0,0;
%     0,0,0,0,0,0,0,0,0,-1,0,0;
%     0,0,0,0,0,0,0,0,0,0,1,0;
%     0,0,0,0,0,0,0,0,0,0,0,1;
%     0,0,0,0,0,0,-1,0,0,0,0,0;
%     0,0,0,0,0,0,0,1,0,0,0,0;
%     0,0,0,0,0,0,0,0,1,0,0,0];
%   
% R_pos*q(4:12)
% 
% % position of floating base
% eye(3)*q(1:3)


 
end